apiVersion: v1
kind: Secret
metadata:
  name: vault-issuer-token
  namespace: cert-manager
  annotations:
    kubernetes.io/service-account.name: cert-manager
type: kubernetes.io/service-account-token
---
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: vault-issuer
spec:
  vault:
    server: https://192.168.0.253:8200
    path: pki_int/sign/homelab-server
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR4akNDQXE2Z0F3SUJBZ0lVY2o1Z0VDMzZ2bjNQK1J1cVZQWjdPNFJLWEZJd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRWdNQjRHQTFVRUF4TVhTRzl0Wld4aFlpQkpiblJsY20xbFpHbGhkR1VnUTBFd0hoY05Nall3TVRFegpNVGcxT1RBNVdoY05NekV3TVRFeU1UZzFPVEk0V2pBeU1UQXdMZ1lEVlFRREV5ZG9iMjFsYkdGaUxtbHVkR1Z5CmJtRnNJRWx1ZEdWeWJXVmthV0YwWlNCQmRYUm9iM0pwZEhrd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUIKRHdBd2dnRUtBb0lCQVFEck1EM1ZHRHNPeGNGbWVVSlVSYUhWeFJ0dGZEY0gvZzVpQ0tDT0EyM3lHMWVid1JOWQpVN1JLUytyM1NrMTlJNndZY2ZBeVpTVk83dEtSZHJSSytGTFJIUWYvVGwxV25XV0R6U045UnEvSitCd2N5NkNEClBaYVVvUjNZYy8zQzVSS2VSYlUyVUM3bmdrd08rVnJmNHJYTXBQMHhqNytQVVljbCtMaWxuRUM0NmdCcmVDNGsKYmpRSVMzR041NXZoU2U2WVI0YUY1WGlnVnE2MnRhbG5ZMy9NVSsrY3pBY1NrdWNtb2JtT0pQYmd3YnRhYnZaYQpMSTNmdCt5WGRuVkduS2x5RTNZK3BzKzhZb24zVHFhYm03YnMyVnk3eGRXVmxzbG1CMWo5MUdEUGxmMGJHOUI3ClAzejhxOGJ0amx6RG1lSEFLSXd2RWhFUjBibWNNYUFxK1VCOUFnTUJBQUdqZ2VNd2dlQXdEZ1lEVlIwUEFRSC8KQkFRREFnRUdNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUF3SFFZRFZSME9CQllFRkJ5SHhHSkpoMndhUVRkUwprZTRDN2lmNXY0ZkZNQjhHQTFVZEl3UVlNQmFBRk1yUVlWNHRacnlJVVphVFhtN29uRy9leDRlVE1FRUdDQ3NHCkFRVUZCd0VCQkRVd016QXhCZ2dyQmdFRkJRY3dBb1lsYUhSMGNITTZMeTh4T1RJdU1UWTRMakF1TWpVek9qRTQKTWpBd0wzWXhMM0JyYVM5allUQTNCZ05WSFI4RU1EQXVNQ3lnS3FBb2hpWm9kSFJ3Y3pvdkx6RTVNaTR4TmpndQpNQzR5TlRNNk1UZ3lNREF2ZGpFdmNHdHBMMk55YkRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWxMRHBkR0h5CkhtTWh1RnNscmFyblhEQXQrMk9ldGxqZHlSVEhGNHFuN3FlQU5OaGIxM2NYY202RVljYWRobDEwYUZCSk5qZDQKQ1lyYW9IUW5XMm5lMzZQOW5VNGNwSWRQZ2hTYk56TlRhMko1clplNkkweXo5cXNQQTJlNk1LZWdtN1QwYU9LUgo4a3Nya1BUaEdUaG01V1RkSTVlNHA1ODUyNWxhWTNWc3Q1bGZGSTRxQnAzSFY3TnJHSkFzUlJqd3BaVFJOUXJzClpzYittK2RMeW5jWGJRRGFnOVNUb3NuZHdhYmdkclNnVGt5ajg5OXR0eVR3Qk8yNVozMkdFd0NQWTB2SW8xRmUKNTNrcjNQQ2czdGZGdlpkbGc5Qmo1akE3SDRxaWhlVGdYUDdMR1JKTWVMd0Ixb1FXWE8yYzZITFByWTIzNTFObApmdkVtUGxXL2NXMlY1QT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVkVENDQWwyZ0F3SUJBZ0lVV0lpV2p3cWZYa3ZNN0ROQWRNYUFPcExad1dnd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1h6RUxNQWtHQTFVRUJoTUNRa1V4RVRBUEJnTlZCQWdNQ0VKeWRYTnpaV3h6TVJFd0R3WURWUVFIREFoQwpjblZ6YzJWc2N6RVFNQTRHQTFVRUNnd0hTRzl0Wld4aFlqRVlNQllHQTFVRUF3d1BTRzl0Wld4aFlpQlNiMjkwCklFTkJNQjRYRFRJMk1ERXhNekUzTlRreU9Gb1hEVE14TURFeE1qRTROVGt5T0Zvd0lqRWdNQjRHQTFVRUF4TVgKU0c5dFpXeGhZaUJKYm5SbGNtMWxaR2xoZEdVZ1EwRXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBdwpnZ0VLQW9JQkFRRE1RM2w1R3ByOHk4U0Iyck1CVnI3NExlSmVYUDVCQTNBTC9jUHZLZy94Q21VMEE0UWZvSHh5CmpOWk1VWXZ1V2VCZjZKOEV2WDhtaTRkbkFkN2p5UFd1d3lPMjNBNUN1d0JxL3RPV1kvbGR3RFdjdDRhbCtaZWUKQkRmUXpIYVlsU1NEVUVxbnRkNFdFZzRpR3ZrRkNtd2tLQ2l4MG9FZEpIUHJjbHFiT1dtdWRxTDQrbm5kU0VwawowWTE3TEtmeVBROW5KMExwRGFGeDhCQkNYZldjT1pvRWNqWUhmdHUybGZacktvQmY3U3dwbDdRQXlkOGZmdzVsClVIeEtOYllnWnVYMDhVVThCbHAyMkhpRWdZaWVKRkhEc3BQZ1NPYnUyY1pQQ2tJSmpoQmxPc3kvR3dpMmtZcnUKOWdUNEZOUzF1YmZlbDFlZFdNTzBHTUpHTGZjNEFRTkpBZ01CQUFHalpqQmtNQklHQTFVZEV3RUIvd1FJTUFZQgpBZjhDQVFFd0RnWURWUjBQQVFIL0JBUURBZ0VHTUIwR0ExVWREZ1FXQkJUSzBHRmVMV2E4aUZHV2sxNXU2Snh2CjNzZUhrekFmQmdOVkhTTUVHREFXZ0JSRTdMQTl2U2dWelRnWUNvaVM0Vmp1MzVCZFlEQU5CZ2txaGtpRzl3MEIKQVFzRkFBT0NBZ0VBeUdHS1NQZEdKVkI5bzJDSk96czBKaUp1VnZ2azFUYnlVQnJrODVPOEY4SjhreXdhaVNleApHbFR3WU5mWG1qaHRpK2tvTXluUWk2QVBESXlwaDNtN1Z2THk3QjJkcjJYMDkxM003cEtqQzVNb0JOQ0Q4cmQ1ClN4SXozR2JJMEFFS2J2M0V5bld4bkUweU5QY044R3VaK3VRdUE5ekxENk0xWkFFOVBQWXR6SllEUUo0WHVFQSsKMy9PdzFzMnNrOGJxSjd5NWFuOWRheTZUTld1K0FTdXhUazdyVmRpelhybzl6RjVuMFVWd28wWWpJd3JpTFJldwpyd3V1aDdYeVNQaDB3YUNRMlEvQWZjR0JWUlZLcExUcitQTldyMkhJUyt5RlFxa3BLWjZYOWZ1Q3E1N3V3cnJuCkRqMFkvVjhTSW85WWg4ZGdmYk9QWFYwMXdyak8rOEkwbHVKejdoSUQ4MGlrZ0lBV1pVVnF6MWdLYUViZXY3ZmYKN3R6dGM0azdkMCsyb0xIQ0c3aHJoUWZiTDBKTnNuT2tjYVlIemZibDJLOFJMMHRHcXR6N3Z0WVZTSE01ajFVeApIa25KZEdaN2V4RldzZFhHSWdhem95YXQ0QmFSbUlBZTJ6dlRxY3Y0dmZ2Y2JBY3ROYkdMcnpYd1dYSlRPMitlCkJ0cjNvODg3WWlQNUVCeUdSMEdMM2p6NmZUMWNtaHhBYVdlT1FQMFZxeFVXbllvUDkzOVdtdzVDcjJ1blVPZUsKZ2JiN1duckk1eWZSbzhVYnFGSzFwTmE1bGNhMXVkTEVQSFFhYk5JT1FVaGhBbzZMY24xZk1hanhjUnUvd1ZnRgpKbWFIWXg2NXNjdEpOUSsvOTRRQnYxUnFyTUtMWHFlK0lKSU55NHppVU0vWk5Mbms0WlVUS3g0PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGcHpDQ0E0K2dBd0lCQWdJSkFLV0JRbjJwMjdwa01BMEdDU3FHU0liM0RRRUJDd1VBTUY4eEN6QUpCZ05WCkJBWVRBa0pGTVJFd0R3WURWUVFJREFoQ2NuVnpjMlZzY3pFUk1BOEdBMVVFQnd3SVFuSjFjM05sYkhNeEVEQU8KQmdOVkJBb01CMGh2YldWc1lXSXhHREFXQmdOVkJBTU1EMGh2YldWc1lXSWdVbTl2ZENCRFFUQWVGdzB5TmpBeApNRGd5TWpJMU16VmFGdzB6TmpBeE1EWXlNakkxTXpWYU1GOHhDekFKQmdOVkJBWVRBa0pGTVJFd0R3WURWUVFJCkRBaENjblZ6YzJWc2N6RVJNQThHQTFVRUJ3d0lRbkoxYzNObGJITXhFREFPQmdOVkJBb01CMGh2YldWc1lXSXgKR0RBV0JnTlZCQU1NRDBodmJXVnNZV0lnVW05dmRDQkRRVENDQWlJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dJUApBRENDQWdvQ2dnSUJBTnRyS2tTSGhGY1lYL1A4L0RTV3NTQ3BFZDFhZnZaREhKV01adFN1WnpkTjZ2SlgxdlpzClNtUmZkdWVOaEdibVNLUVFiTmR1eUNnbmVObFI0MGhxZ0VYRkRTMy9VQm9TdFVIU2JUTzJDTVZZaFFQVk5aNG0KcjUyRzhOdi9ETEhDb3d0YTFJamlTZmtudDRUT1VaK044eldBdUxnZDQ4SjNCejNUaE5wd0xEYTFabjJjZll2RQo0UU9Kbm4wUmk5eGRSbVhBVmNJNmhpR29hK013YXZJZWFkVEk4UXdBS3hpRk1KdUNiY3ZjN0pBeXFOcGJuVWtaCnpMc2tLZXA3UFZYSXM5UGNWckVnZTVBd3dzTVgyRFE5M1MwVUMzZDhVVkFOSm1KdmVNVXpNYlBmRE5WM1pxUlIKbjhLZ3ZFbUd3WUtkMC9oUEZRYmNsamE0eTFyM2Y3eXgvQ3c0NU9EREpoMzF1RmQ4NjZqYzhwT0RUSXUvczVNMwpTSWsyUFJGL0x0UWR4YkVFTldyQmNGUVlBWXFNWFhqRDludTEyZDVyaXVNWGdaWWVXZDM1UG9NQzFId0pndlZ1CmVrVjVaWmtSVEpxMXhIb25IRE4xK0xpcERta1AxbTlreGZWTGpzMmh5UUlLODJRbUJqKzZsUjludFg2b3NIMS8KRFB3OGVNZFl0U2pyV3UwdStCMzRGOWdScmZ6bi9WNEhZbXBsQ1F3T29LMllnR2FSdi84KzBUN2RXS01jVWkxRQpMRGZuNTN0T0tyTUROcjlHcDlzbk5qMTVEQXZ0YmJTVkcrTEkyeEdnekJJTlZCMFlUd3pVaE0zM0hPUFEzdURYClRWSDRWOWo1VnFEd3BKWWd5dlhqRklQK3NvdllBU0NsQzEveW1LUWJ0UkhRa0ZZM0lNazloZC9CQWdNQkFBR2oKWmpCa01CSUdBMVVkRXdFQi93UUlNQVlCQWY4Q0FRSXdEZ1lEVlIwUEFRSC9CQVFEQWdFR01CMEdBMVVkRGdRVwpCQlJFN0xBOXZTZ1Z6VGdZQ29pUzRWanUzNUJkWURBZkJnTlZIU01FR0RBV2dCUkU3TEE5dlNnVnpUZ1lDb2lTCjRWanUzNUJkWURBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQXlKVFU0ZGxKQzJMZ3B6RkFIL0lrdU1PZlFhbkQKN3IxQmcvWFRWQ1VycForMWNEWjErR3pBcFJnQ2FUS0x0TkY3RWtnVnJldXJNT2NsTW9pYTdmOHpwRlhZUDJhRQp5aE1yWEpMbnFQd0NmOThvOWhVYjR3YlRVS09Udnd5bGdqbnVwR05xdDFwZjlBVWFFVEVFQzJDVEZBNWwzQ2xpCks2OFNrWlpPS1VtT1VRbGhUZ0szaFNxOGJ3dFdHU3ZERjRTY0dOczRBMXFuOUhCa3VzZFJHRDcyKzdXZ3o5amoKWXpub3U3WVd4RTYzVXNFTEplbDhxdmRvN0VodHBHdXFNMDcxQkNOc040bitVWFlhV1RnaG9EVk52Znd6RXdXMAo2V3Q5akJBWHZ2NURBZGpkWU1FNlMwMkJiaHkvRWd4dzVTQVdRZVpXU05sZHhXUnV4Ukl0TU4wK1NWNDVKNzlVCmlzd2tkQTBQYk5XWGxYY3pmYnQ3NG0vSlAvU25GZkF0YVlwRjAwclMrZGI0RGdFSHBiY1VtdXJzVmVvbTlEaGsKaTZkOHNHakNaaUtsVVQvVC8zSU9ReS84Nm1qVDNKU1U5ZCtkYXdyS0k2M2c0MVp1Y1hxV1RWMEYyTWZ0Q1JHNwpTRzRiYklNQktOa1FidnAyblNlN2t3amhuMmxONCtXYlVHVVRUdjU2L291OU14QjMrang1SEd2RU9uVTQvbkxUCkRwRCs3S0NUVmpKVXIyQmU1WGhTVzJ1bUs2N3FnU3ZycUlEbXNRUEFtZDdGYVMrUVhBSTA2bkx1bkRlMGYrMHIKWktQclRpOVc4LzBQYXdRSnpaMGJ6c25CSE50ZUxGQUtlL3Q5aEhmUjJyZnEzbHFzenRJMTY1VTRUYWdZOURtSwpMUklSVWd0NytFWFk4QTA9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCg==
    auth:
      kubernetes:
        role: cert-manager
        mountPath: /v1/auth/kubernetes
        secretRef:
          name: vault-issuer-token
          key: token
