apiVersion: v1
kind: Secret
metadata:
  name: vault-issuer-token
  namespace: cert-manager
  annotations:
    kubernetes.io/service-account.name: cert-manager
type: kubernetes.io/service-account-token
---
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: vault-issuer
spec:
  vault:
    server: https://192.168.0.253:8200
    path: pki_int/sign/homelab-server
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR4akNDQXE2Z0F3SUJBZ0lVZm55eHpvZ3E2bFdHMkZSajBzc3llOEpyYUZjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRWdNQjRHQTFVRUF4TVhTRzl0Wld4aFlpQkpiblJsY20xbFpHbGhkR1VnUTBFd0hoY05Nall3TVRFeApNVEkxTURNMVdoY05NekV3TVRFd01USTFNRFUxV2pBeU1UQXdMZ1lEVlFRREV5ZG9iMjFsYkdGaUxtbHVkR1Z5CmJtRnNJRWx1ZEdWeWJXVmthV0YwWlNCQmRYUm9iM0pwZEhrd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUIKRHdBd2dnRUtBb0lCQVFESy9BZDQ3ZFczYm1OZmdlZmRMRzdURG9TQ0xRTW9oQWpaMzE3MlJ5a2xMQlQ5dkNxbwpqUzBBOEx6OURtMzVWZGJKYStmWDJTUnJiWE05am13eEFCeGpJS1ZBcUM1em1vYkE5aW9vdmJEdHBzRm0yOVMxCkdCL05QZi9tdjVMRGMydk9OeWJWdFFaTzA5YzdpdWNPWVBnb00zOFlPRHozZFFJN2RQZ3RyRWZhVzh4Q015bGoKMzU0Nlp5V25ZNDZ5aVo2Tml1SlluTzlFQ2o2T09YZG1ERDdpL0Fodzc3cG9UODN4dzhucFh6NlYxblRiend2OAphZ2xKNElWaE96ZjVUdGVxcFNvK3E1V2Uwdk1VTytRRmsxQjgvMXJvSjVpV3drYVFjVFM1N0IxSk11WncyVnI3CmVkSHlnR1o3QjRBK2dZKzVQZ2gvT2loNCtZOVU2OEJtdVczdkFnTUJBQUdqZ2VNd2dlQXdEZ1lEVlIwUEFRSC8KQkFRREFnRUdNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUF3SFFZRFZSME9CQllFRkJIejBPRmRnakNvNkRlSwplUjJrbkxwT1hjQzFNQjhHQTFVZEl3UVlNQmFBRkc3bFVOL2JId1FNMU9NbHUvVXU0MVNSOEFMMU1FRUdDQ3NHCkFRVUZCd0VCQkRVd016QXhCZ2dyQmdFRkJRY3dBb1lsYUhSMGNITTZMeTh4T1RJdU1UWTRMakF1TWpVek9qRTQKTWpBd0wzWXhMM0JyYVM5allUQTNCZ05WSFI4RU1EQXVNQ3lnS3FBb2hpWm9kSFJ3Y3pvdkx6RTVNaTR4TmpndQpNQzR5TlRNNk1UZ3lNREF2ZGpFdmNHdHBMMk55YkRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQVQ3dzVyNW9YCldvUEc3ODNjcjBOVHcwRmIyVHZDOFJIOW9DZDFpVTVqRU1pS2xhSE5zODU1N1JOTlQ0WG8vb3lNRGtrMW5Ua1cKTlVwNjVBQkRBQVFPQ0QwZmRuRlo3MUNBQUw4RTF2SnA4eUhGRHczRitrK1lmQjg0MTJ3VGhIbzlIMTJCTEwrTApkMDhLZWVHQUpWUU4wMjc4S3k5Yno4TjRQRFVPSVF5YVJlVXFzbW0vUG9pVDFRQ1RodXNvVUxVQ1ZGZ0k5R2JKCkErU2pFK2xUYXNtUTRnTW9XQjhveDVGTTVjY0I4L09WV0Vwa1FVbWdFekRkVlNKbmZGQk9ERTN5bnFEMVFzdWkKQ21XSXBQT2U2S1l0eFhWaGhtVUZaWDRYWEVuSk5DQm1PTG9TK2Z5WnBWazlBemFhUUYvOXRiMHJESXhaa004UApUeXlqYnVaRnhuNGVYZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVkVENDQWwyZ0F3SUJBZ0lVZXlYbGJvWDM3Y1lOUW5iZnRyckN6OWs1b000d0RRWUpLb1pJaHZjTkFRRUwKQlFBd1h6RUxNQWtHQTFVRUJoTUNRa1V4RVRBUEJnTlZCQWdNQ0VKeWRYTnpaV3h6TVJFd0R3WURWUVFIREFoQwpjblZ6YzJWc2N6RVFNQTRHQTFVRUNnd0hTRzl0Wld4aFlqRVlNQllHQTFVRUF3d1BTRzl0Wld4aFlpQlNiMjkwCklFTkJNQjRYRFRJMk1ERXhNVEV4TlRBMU5Wb1hEVE14TURFeE1ERXlOVEExTlZvd0lqRWdNQjRHQTFVRUF4TVgKU0c5dFpXeGhZaUJKYm5SbGNtMWxaR2xoZEdVZ1EwRXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBdwpnZ0VLQW9JQkFRQ3RKdUJaWkVnUVBDeExnV1ZtVkorWG1DZDFtcDRyQzNtZ2FPdmRsMkZGWHFrOEhDcjB6ZVZJCnhSSUlrOHZ4Q3JCWXhEUDA4QmhTQ0pSYjFEUWs1MzBEK0trbHhSMnFGcmFBWXV5d0RjY3BzUmNTbWQ1d2kzRy8KazRqcTREY3hrSktROXQ2WXRRcU9qQVI3Zkhadk9IaThzRXYzSXg0RjBRc1kyL2hoUkJybjRocWVsOUtwZm9FOApLOU9TS1ZFYkIzemZPaXZ4MHY5cWx0QmxUcmZzUGRsNHJFK2VnVFppYk1udlZnZ1pXNXdhRXpRN0o0UmxOdUc1Cm5vRXhIKzZNeXdENHljOVVjcnRiOW54VldJNk8xMnJVRmdQQ3hMeExCcTViTUwyM1lqTk1KWTFvSFArcTFIUnYKMzJ0ZndZRzdGem5nczhmVWZSTVdTekQzNnJ2RUUvNjNBZ01CQUFHalpqQmtNQklHQTFVZEV3RUIvd1FJTUFZQgpBZjhDQVFFd0RnWURWUjBQQVFIL0JBUURBZ0VHTUIwR0ExVWREZ1FXQkJSdTVWRGYyeDhFRE5UakpidjFMdU5VCmtmQUM5VEFmQmdOVkhTTUVHREFXZ0JSRTdMQTl2U2dWelRnWUNvaVM0Vmp1MzVCZFlEQU5CZ2txaGtpRzl3MEIKQVFzRkFBT0NBZ0VBZWcwNmNNMytoK3A2V2JsYVUwVlVtMHJZaGhIelcyRjNKNjNGY1J6ZHB2dDRGUGdCODRvRQpRQ0dGQUJ2Z2hXZjVwK0hlUnJDMTVKdi9oYVlURGtZcEh0OWJOcEMyWWFRVmNSWm11TGlLWEZYcW95YXkyeVJhCmhVb3c1K1ZlVXJSeW85R0g1ODZDaDJHZ0tTbk9ndEJHN1I0TWlTS3F6TDdPYUx2a1d4YlV0V0ZocHhHSDRJL3oKM0FsZ1pmeFFiTGF6VE9xNXdFVDRSNWpRLzV4cm4wYktTWkFpNTV1RTVxSlV5YXdSQTVrRmJMeGpJMWFoWHY5dApYOWdtZUgzMnFZanZFMmJaTUZuWXpZQVJjT0dNMzkvMkYxbUorSkJHdGRmSjQwVlJwZ1lnc2loSGxaR1hzd1NhCkJaWEZvNEEyZURWZWZoNEdDVGRhYW5UZkxXZ0UwdTl1SzFBejY0Umt0L1E1emFheWxjVzhNU0ZaanU0QnJnNFQKZk83Z2JYeGYvbDE5b1k2R2hkZHJOSUNYbm5qMGVrM0lscVZPTFk2QmdMSzJKVzBGNlhKNzhXajdVODVodm1oNQpXNmV0R2JCTXhFRFlXclJZUmlySGRIMEZ5ZWc1R0ovVUV5Uy95YmJkeEtDSCtycmJ0UGVhQjc2cVFXUm9VK3pLCnFVYXpWdHJWSjQ4ZWRPZlUzS3V1eDcxVC9xWnRKM1ozVlNBOERmdUdWWERhcU0rRDE4Tm5wQS96SEpMQWpmOUoKZ2RQUXRLWk5HZUQ4eFVhNVN0SEo3b3hXOUZpNjJ3RURNSy92YmdRS0VRMkw1N2JXVkNtSnJJYm9sQTJpa0I4MQprNGtJZW5UVHpDbnhQVzhzbnhMUnV5U0pLc2R2WWQvNTRMUWQwQW9hQUwwQiswZC8zUGYxVjBZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGcHpDQ0E0K2dBd0lCQWdJSkFLV0JRbjJwMjdwa01BMEdDU3FHU0liM0RRRUJDd1VBTUY4eEN6QUpCZ05WCkJBWVRBa0pGTVJFd0R3WURWUVFJREFoQ2NuVnpjMlZzY3pFUk1BOEdBMVVFQnd3SVFuSjFjM05sYkhNeEVEQU8KQmdOVkJBb01CMGh2YldWc1lXSXhHREFXQmdOVkJBTU1EMGh2YldWc1lXSWdVbTl2ZENCRFFUQWVGdzB5TmpBeApNRGd5TWpJMU16VmFGdzB6TmpBeE1EWXlNakkxTXpWYU1GOHhDekFKQmdOVkJBWVRBa0pGTVJFd0R3WURWUVFJCkRBaENjblZ6YzJWc2N6RVJNQThHQTFVRUJ3d0lRbkoxYzNObGJITXhFREFPQmdOVkJBb01CMGh2YldWc1lXSXgKR0RBV0JnTlZCQU1NRDBodmJXVnNZV0lnVW05dmRDQkRRVENDQWlJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dJUApBRENDQWdvQ2dnSUJBTnRyS2tTSGhGY1lYL1A4L0RTV3NTQ3BFZDFhZnZaREhKV01adFN1WnpkTjZ2SlgxdlpzClNtUmZkdWVOaEdibVNLUVFiTmR1eUNnbmVObFI0MGhxZ0VYRkRTMy9VQm9TdFVIU2JUTzJDTVZZaFFQVk5aNG0KcjUyRzhOdi9ETEhDb3d0YTFJamlTZmtudDRUT1VaK044eldBdUxnZDQ4SjNCejNUaE5wd0xEYTFabjJjZll2RQo0UU9Kbm4wUmk5eGRSbVhBVmNJNmhpR29hK013YXZJZWFkVEk4UXdBS3hpRk1KdUNiY3ZjN0pBeXFOcGJuVWtaCnpMc2tLZXA3UFZYSXM5UGNWckVnZTVBd3dzTVgyRFE5M1MwVUMzZDhVVkFOSm1KdmVNVXpNYlBmRE5WM1pxUlIKbjhLZ3ZFbUd3WUtkMC9oUEZRYmNsamE0eTFyM2Y3eXgvQ3c0NU9EREpoMzF1RmQ4NjZqYzhwT0RUSXUvczVNMwpTSWsyUFJGL0x0UWR4YkVFTldyQmNGUVlBWXFNWFhqRDludTEyZDVyaXVNWGdaWWVXZDM1UG9NQzFId0pndlZ1CmVrVjVaWmtSVEpxMXhIb25IRE4xK0xpcERta1AxbTlreGZWTGpzMmh5UUlLODJRbUJqKzZsUjludFg2b3NIMS8KRFB3OGVNZFl0U2pyV3UwdStCMzRGOWdScmZ6bi9WNEhZbXBsQ1F3T29LMllnR2FSdi84KzBUN2RXS01jVWkxRQpMRGZuNTN0T0tyTUROcjlHcDlzbk5qMTVEQXZ0YmJTVkcrTEkyeEdnekJJTlZCMFlUd3pVaE0zM0hPUFEzdURYClRWSDRWOWo1VnFEd3BKWWd5dlhqRklQK3NvdllBU0NsQzEveW1LUWJ0UkhRa0ZZM0lNazloZC9CQWdNQkFBR2oKWmpCa01CSUdBMVVkRXdFQi93UUlNQVlCQWY4Q0FRSXdEZ1lEVlIwUEFRSC9CQVFEQWdFR01CMEdBMVVkRGdRVwpCQlJFN0xBOXZTZ1Z6VGdZQ29pUzRWanUzNUJkWURBZkJnTlZIU01FR0RBV2dCUkU3TEE5dlNnVnpUZ1lDb2lTCjRWanUzNUJkWURBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQXlKVFU0ZGxKQzJMZ3B6RkFIL0lrdU1PZlFhbkQKN3IxQmcvWFRWQ1VycForMWNEWjErR3pBcFJnQ2FUS0x0TkY3RWtnVnJldXJNT2NsTW9pYTdmOHpwRlhZUDJhRQp5aE1yWEpMbnFQd0NmOThvOWhVYjR3YlRVS09Udnd5bGdqbnVwR05xdDFwZjlBVWFFVEVFQzJDVEZBNWwzQ2xpCks2OFNrWlpPS1VtT1VRbGhUZ0szaFNxOGJ3dFdHU3ZERjRTY0dOczRBMXFuOUhCa3VzZFJHRDcyKzdXZ3o5amoKWXpub3U3WVd4RTYzVXNFTEplbDhxdmRvN0VodHBHdXFNMDcxQkNOc040bitVWFlhV1RnaG9EVk52Znd6RXdXMAo2V3Q5akJBWHZ2NURBZGpkWU1FNlMwMkJiaHkvRWd4dzVTQVdRZVpXU05sZHhXUnV4Ukl0TU4wK1NWNDVKNzlVCmlzd2tkQTBQYk5XWGxYY3pmYnQ3NG0vSlAvU25GZkF0YVlwRjAwclMrZGI0RGdFSHBiY1VtdXJzVmVvbTlEaGsKaTZkOHNHakNaaUtsVVQvVC8zSU9ReS84Nm1qVDNKU1U5ZCtkYXdyS0k2M2c0MVp1Y1hxV1RWMEYyTWZ0Q1JHNwpTRzRiYklNQktOa1FidnAyblNlN2t3amhuMmxONCtXYlVHVVRUdjU2L291OU14QjMrang1SEd2RU9uVTQvbkxUCkRwRCs3S0NUVmpKVXIyQmU1WGhTVzJ1bUs2N3FnU3ZycUlEbXNRUEFtZDdGYVMrUVhBSTA2bkx1bkRlMGYrMHIKWktQclRpOVc4LzBQYXdRSnpaMGJ6c25CSE50ZUxGQUtlL3Q5aEhmUjJyZnEzbHFzenRJMTY1VTRUYWdZOURtSwpMUklSVWd0NytFWFk4QTA9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCg==
    auth:
      kubernetes:
        role: cert-manager
        mountPath: /v1/auth/kubernetes
        secretRef:
          name: vault-issuer-token
          key: token
